#!/usr/bin/env node

/**
 * üöÄ –ú–ê–°–°–û–í–û–ï –°–û–ó–î–ê–ù–ò–ï –í–°–ï–• –ö–ê–¢–ï–ì–û–†–ò–ô –í SHOPIFY
 * 
 * –§–∏–ª–æ—Å–æ—Ñ–∏—è:
 * - Perplexity AI: –ú–∏–Ω–∏–º–∞–ª–∏–∑–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
 * - Steve Jobs: –ö–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
 * - iOS 26: –ù–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
 * - Telegram Wallet: –ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º
 * 
 * –í–°–Å –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò –ß–ï–†–ï–ó SHOPIFY!
 * –ù–ò–ö–ê–ö–ò–• –°–¢–ê–¢–ò–ß–ï–°–ö–ò–• –î–ê–ù–ù–´–•!
 */

const fs = require('fs');
const path = require('path');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const SHOPIFY_CONFIG = {
  adminUrl: 'https://phuket-telegram-shop-117ck.myshopify.com/admin/api/2025-07/graphql.json',
  accessToken: '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',
  headers: {
    'Content-Type': 'application/json',
    'X-Shopify-Access-Token': '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'
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –í–°–ï 20 –ö–ê–¢–ï–ì–û–†–ò–ô –ò–ó PHUKET INSIDER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const CATEGORIES = [
  // TIER 1: HIGH PRIORITY (–Ω–∞—á–∏–Ω–∞—Ç—å —Å —ç—Ç–∏—Ö!)
  {
    id: 'beaches',
    title: '–ü–ª—è–∂–∏ –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'beaches',
    description: '–õ—É—á—à–∏–µ –ø–ª—è–∂–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –æ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ü–∞—Ç–æ–Ω–≥–∞ –∏ –ö–∞—Ä–æ–Ω–∞ –¥–æ —Å–∫—Ä—ã—Ç—ã—Ö Paradise Beach –∏ Freedom Beach. –ë–µ–ª—ã–π –ø–µ—Å–æ–∫, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –≤–æ–¥–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.',
    productType: 'Information',
    tags: ['info', 'insider', 'beaches', 'category:beaches'],
    priority: 'high'
  },
  {
    id: 'temples',
    title: '–•—Ä–∞–º—ã –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'temples',
    description: '–ë—É–¥–¥–∏–π—Å–∫–∏–µ —Ö—Ä–∞–º—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ –æ—Å—Ç—Ä–æ–≤–∞. –í–∞—Ç –ß–∞–ª–æ–Ω–≥, –ë–æ–ª—å—à–æ–π –ë—É–¥–¥–∞, –í–∞—Ç –ü—Ä–∞ –¢–æ–Ω–≥. –ò—Å—Ç–æ—Ä–∏—è, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å.',
    productType: 'Information',
    tags: ['info', 'insider', 'temples', 'category:temples'],
    priority: 'high'
  },
  {
    id: 'viewpoints',
    title: '–°–º–æ—Ç—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'viewpoints',
    description: '–õ—É—á—à–∏–µ —Å–º–æ—Ç—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –ü—Ö—É–∫–µ—Ç–∞ —Å –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏. –ü—Ä–æ–º—Ç–µ–ø –ö–µ–π–ø, Karon Viewpoint, Windmill Viewpoint. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ –∏ –∑–∞–∫–∞—Ç–æ–≤.',
    productType: 'Information',
    tags: ['info', 'insider', 'viewpoints', 'category:viewpoints'],
    priority: 'high'
  },
  {
    id: 'excursions',
    title: '–≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'excursions',
    description: '–ú–æ—Ä—Å–∫–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ ‚Äî –ü—Ö–∏-–ü—Ö–∏, –î–∂–µ–π–º—Å –ë–æ–Ω–¥, –°–∏–º–∏–ª–∞–Ω—ã. –õ—É—á—à–∏–µ —Ç—É—Ä—ã –ø–æ –æ—Å—Ç—Ä–æ–≤–∞–º –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è.',
    productType: 'Excursions',
    tags: ['tour', 'excursions', 'islands', 'category:excursions'],
    priority: 'high'
  },
  {
    id: 'attractions',
    title: '–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'attractions',
    description: '–ì–ª–∞–≤–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –ë–æ–ª—å—à–æ–π –ë—É–¥–¥–∞, –ü—Ä–æ–º—Ç–µ–ø –ö–µ–π–ø, –°—Ç–∞—Ä—ã–π –≥–æ—Ä–æ–¥. –ö—É–ª—å—Ç—É—Ä–Ω—ã–µ –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞.',
    productType: 'Information',
    tags: ['info', 'insider', 'attractions', 'category:attractions'],
    priority: 'high'
  },

  // TIER 2: MEDIUM PRIORITY
  {
    id: 'restaurants',
    title: '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'restaurants',
    description: '–õ—É—á—à–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî —Ç–∞–π—Å–∫–∞—è –∫—É—Ö–Ω—è, –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã, –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è. –û—Ç —É–ª–∏—á–Ω–æ–π –µ–¥—ã –¥–æ Michelin-starred –∑–∞–≤–µ–¥–µ–Ω–∏–π.',
    productType: 'Information',
    tags: ['info', 'insider', 'restaurants', 'category:restaurants'],
    priority: 'medium'
  },
  {
    id: 'nightlife',
    title: '–ù–æ—á–Ω–∞—è –∂–∏–∑–Ω—å –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'nightlife',
    description: '–ù–æ—á–Ω–∞—è –∂–∏–∑–Ω—å –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –∫–ª—É–±—ã, –±–∞—Ä—ã, —à–æ—É. Bangla Road, Illuzion, Tiger. –õ—É—á—à–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π.',
    productType: 'Information',
    tags: ['info', 'insider', 'nightlife', 'category:nightlife'],
    priority: 'medium'
  },
  {
    id: 'spa',
    title: '–°–ü–ê –∏ –º–∞—Å—Å–∞–∂ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'spa',
    description: '–õ—É—á—à–∏–µ –°–ü–ê-—Å–∞–ª–æ–Ω—ã –∏ –º–∞—Å—Å–∞–∂–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã –ü—Ö—É–∫–µ—Ç–∞. –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ç–∞–π—Å–∫–∏–π –º–∞—Å—Å–∞–∂, SPA-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã, wellness-—Ü–µ–Ω—Ç—Ä—ã.',
    productType: 'Information',
    tags: ['info', 'insider', 'spa', 'category:spa'],
    priority: 'medium'
  },
  {
    id: 'elephants',
    title: '–ü–∞—Ä–∫–∏ —Å–ª–æ–Ω–æ–≤ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'elephants',
    description: '–≠—Ç–∏—á–Ω—ã–µ –ø–∞—Ä–∫–∏ —Å–ª–æ–Ω–æ–≤ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ. –ù–∞–±–ª—é–¥–µ–Ω–∏–µ, –∫–æ—Ä–º–ª–µ–Ω–∏–µ, –∫—É–ø–∞–Ω–∏–µ —Å–æ —Å–ª–æ–Ω–∞–º–∏. –ó–∞–±–æ—Ç–∞ –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ —ç–∫–æ—Ç—É—Ä–∏–∑–º.',
    productType: 'Information',
    tags: ['info', 'insider', 'elephants', 'category:elephants'],
    priority: 'medium'
  },
  {
    id: 'diving',
    title: '–î–∞–π–≤–∏–Ω–≥ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'diving',
    description: '–î–∞–π–≤–∏–Ω–≥ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ ‚Äî –°–∏–º–∏–ª–∞–Ω—ã, –†–∞—á–∞, –ö–æ—Ä–∞–ª. –õ—É—á—à–∏–µ –¥–∞–π–≤-—Å–∞–π—Ç—ã –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è PADI.',
    productType: 'Information',
    tags: ['info', 'insider', 'diving', 'category:diving'],
    priority: 'medium'
  },
  {
    id: 'clubs',
    title: '–ö–ª—É–±—ã –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'clubs',
    description: '–õ—É—á—à–∏–µ –∫–ª—É–±—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî Illuzion, Tiger, Seduction. –ù–æ—á–Ω–∞—è –∂–∏–∑–Ω—å, –≤–µ—á–µ—Ä–∏–Ω–∫–∏, —à–æ—É-–ø—Ä–æ–≥—Ä–∞–º–º—ã.',
    productType: 'Information',
    tags: ['info', 'insider', 'clubs', 'category:clubs'],
    priority: 'medium'
  },
  {
    id: 'bars',
    title: '–ë–∞—Ä—ã –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'bars',
    description: '–õ—É—á—à–∏–µ –±–∞—Ä—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî Sky Bar, Beach Bar, Rooftop. –ö–æ–∫—Ç–µ–π–ª–∏, –∑–∞–∫–∞—Ç—ã, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.',
    productType: 'Information',
    tags: ['info', 'insider', 'bars', 'category:bars'],
    priority: 'medium'
  },

  // TIER 3: LOW PRIORITY (–Ω–æ –≤–∞–∂–Ω—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã!)
  {
    id: 'shopping',
    title: '–¢–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'shopping',
    description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã –ü—Ö—É–∫–µ—Ç–∞ —Å –º–∏—Ä–æ–≤—ã–º–∏ –±—Ä–µ–Ω–¥–∞–º–∏, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è–º–∏. Central, Jungceylon, Premium Outlet.',
    productType: 'Information',
    tags: ['info', 'insider', 'shopping', 'category:shopping'],
    priority: 'low'
  },
  {
    id: 'aquaparks',
    title: '–ê–∫–≤–∞–ø–∞—Ä–∫–∏ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'aquaparks',
    description: '–ê–∫–≤–∞–ø–∞—Ä–∫–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –∏ –≤–µ—Å–µ–ª—å—è –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏! –û—Ç —Å–ø–æ–∫–æ–π–Ω—ã—Ö –±–∞—Å—Å–µ–π–Ω–æ–≤ –¥–æ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–∫.',
    productType: 'Information',
    tags: ['info', 'insider', 'aquaparks', 'category:aquaparks'],
    priority: 'low'
  },
  {
    id: 'museums',
    title: '–ú—É–∑–µ–∏ –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'museums',
    description: '–ú—É–∑–µ–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –∏—Å—Ç–æ—Ä–∏—è, –∫—É–ª—å—Ç—É—Ä–∞, –∏—Å–∫—É—Å—Å—Ç–≤–æ. Thai Hua Museum, Phuket Mining Museum. –ü–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—É–≥.',
    productType: 'Information',
    tags: ['info', 'insider', 'museums', 'category:museums'],
    priority: 'low'
  },
  {
    id: 'nightmarkets',
    title: '–ù–æ—á–Ω—ã–µ —Ä—ã–Ω–∫–∏ –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'nightmarkets',
    description: '–ù–æ—á–Ω—ã–µ —Ä—ã–Ω–∫–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, —É–ª–∏—á–Ω–∞—è –µ–¥–∞, —Å—É–≤–µ–Ω–∏—Ä—ã. Weekend Market, Chillva, Indy Market.',
    productType: 'Information',
    tags: ['info', 'insider', 'nightmarkets', 'category:nightmarkets'],
    priority: 'low'
  },
  {
    id: 'waterfalls',
    title: '–í–æ–¥–æ–ø–∞–¥—ã –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'waterfalls',
    description: '–í–æ–¥–æ–ø–∞–¥—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –ø—Ä–∏—Ä–æ–¥–Ω–∞—è –∫—Ä–∞—Å–æ—Ç–∞ –æ—Å—Ç—Ä–æ–≤–∞. –ö–∞—Ç—Ö—É, –ë–∞–Ω–≥ –ü—ç, –¢–æ–Ω –°–∞–π. –¢—Ä–µ–∫–∫–∏–Ω–≥, –∫—É–ø–∞–Ω–∏–µ, –ø–∏–∫–Ω–∏–∫–∏.',
    productType: 'Information',
    tags: ['info', 'insider', 'waterfalls', 'category:waterfalls'],
    priority: 'low'
  },
  {
    id: 'districts',
    title: '–†–∞–π–æ–Ω—ã –ü—Ö—É–∫–µ—Ç–∞',
    handle: 'districts',
    description: '–†–∞–π–æ–Ω—ã –ü—Ö—É–∫–µ—Ç–∞ ‚Äî –≥–¥–µ –∂–∏—Ç—å –∏ —á—Ç–æ –ø–æ—Å–µ—Ç–∏—Ç—å. –ü–∞—Ç–æ–Ω–≥, –ö–∞—Ä–æ–Ω, –ö–∞—Ç–∞, Old Town, Bang Tao. –ü–ª—é—Å—ã, –º–∏–Ω—É—Å—ã, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.',
    productType: 'Information',
    tags: ['info', 'insider', 'districts', 'category:districts'],
    priority: 'low'
  },
  {
    id: 'amusement',
    title: '–ü–∞—Ä–∫–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π',
    handle: 'amusement',
    description: '–ü–∞—Ä–∫–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π –ü—Ö—É–∫–µ—Ç–∞ ‚Äî Splash Jungle, Andamanda, FantaSea. –ê—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã, —à–æ—É, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏.',
    productType: 'Information',
    tags: ['info', 'insider', 'amusement', 'category:amusement'],
    priority: 'low'
  },
  {
    id: 'fishing',
    title: '–†—ã–±–∞–ª–∫–∞ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'fishing',
    description: '–ú–æ—Ä—Å–∫–∞—è —Ä—ã–±–∞–ª–∫–∞ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ ‚Äî —Ç—É–Ω–µ—Ü, –º–∞—Ä–ª–∏–Ω, –±–∞—Ä—Ä–∞–∫—É–¥–∞. –ê—Ä–µ–Ω–¥–∞ –∫–∞—Ç–µ—Ä–æ–≤, —Ä—ã–±–æ–ª–æ–≤–Ω—ã–µ —Ç—É—Ä—ã, —Ç—Ä–æ—Ñ–µ–∏.',
    productType: 'Information',
    tags: ['info', 'insider', 'fishing', 'category:fishing'],
    priority: 'low'
  },
  {
    id: 'yachts',
    title: '–ê—Ä–µ–Ω–¥–∞ —è—Ö—Ç –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'yachts',
    description: '–ê—Ä–µ–Ω–¥–∞ —è—Ö—Ç –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ ‚Äî —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –∫—Ä—É–∏–∑—ã, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤—ã, —Å–≤–∞–¥—å–±—ã. –û—Ç –∫–∞—Ç–µ—Ä–æ–≤ –¥–æ —Ä–æ—Å–∫–æ—à–Ω—ã—Ö —è—Ö—Ç.',
    productType: 'Information',
    tags: ['info', 'insider', 'yachts', 'category:yachts'],
    priority: 'low'
  },
  {
    id: 'zoos',
    title: '–ó–æ–æ–ø–∞—Ä–∫–∏ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ',
    handle: 'zoos',
    description: '–ó–æ–æ–ø–∞—Ä–∫–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –∑–æ–æ–ø–∞—Ä–∫–∏ –ü—Ö—É–∫–µ—Ç–∞ ‚Äî —Ç–∏–≥—Ä—ã, —Å–ª–æ–Ω—ã, –æ–±–µ–∑—å—è–Ω—ã. –°–µ–º–µ–π–Ω—ã–π –æ—Ç–¥—ã—Ö —Å –¥–µ—Ç—å–º–∏.',
    productType: 'Information',
    tags: ['info', 'insider', 'zoos', 'category:zoos'],
    priority: 'low'
  },
  {
    id: 'events',
    title: '–ê—Ñ–∏—à–∞ —Å–æ–±—ã—Ç–∏–π',
    handle: 'events',
    description: '–°–æ–±—ã—Ç–∏—è –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ ‚Äî —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏, –∫–æ–Ω—Ü–µ—Ä—Ç—ã, –≤—ã—Å—Ç–∞–≤–∫–∏. –ê—Ñ–∏—à–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –±–∏–ª–µ—Ç—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.',
    productType: 'Information',
    tags: ['info', 'insider', 'events', 'category:events'],
    priority: 'low'
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –§–£–ù–ö–¶–ò–ò
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * –í—ã–ø–æ–ª–Ω–∏—Ç—å GraphQL –∑–∞–ø—Ä–æ—Å –∫ Shopify Admin API
 */
async function shopifyRequest(query, variables = {}) {
  try {
    const response = await fetch(SHOPIFY_CONFIG.adminUrl, {
      method: 'POST',
      headers: SHOPIFY_CONFIG.headers,
      body: JSON.stringify({
        query,
        variables
      })
    });

    if (!response.ok) {
      throw new Error(`HTTP ${response.status}: ${response.statusText}`);
    }

    const data = await response.json();
    
    if (data.errors) {
      console.error('GraphQL Errors:', data.errors);
      throw new Error(`GraphQL Error: ${data.errors[0].message}`);
    }

    return data;
  } catch (error) {
    console.error('Shopify Request Error:', error);
    throw error;
  }
}

/**
 * –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ Shopify
 */
async function createCategory(category) {
  console.log(`\nüöÄ –°–æ–∑–¥–∞—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é: ${category.title}`);
  
  const mutation = `
    mutation productCreate($input: ProductInput!) {
      productCreate(input: $input) {
        product {
          id
          title
          handle
          tags
        }
        userErrors {
          field
          message
        }
      }
    }
  `;

  const variables = {
    input: {
      title: category.title,
      handle: category.handle,
      productType: category.productType,
      tags: category.tags
    }
  };

  try {
    const result = await shopifyRequest(mutation, variables);
    
    if (result.data.productCreate.userErrors.length > 0) {
      console.error(`‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ${category.title}:`, result.data.productCreate.userErrors);
      return null;
    }

    const product = result.data.productCreate.product;
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ${product.title} (ID: ${product.id})`);
    return product;
  } catch (error) {
    console.error(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ${category.title}:`, error.message);
    return null;
  }
}

/**
 * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
 */
async function checkCategoryExists(handle) {
  const query = `
    query getProductByHandle($handle: String!) {
      productByHandle(handle: $handle) {
        id
        title
        handle
      }
    }
  `;

  try {
    const result = await shopifyRequest(query, { handle });
    return result.data.productByHandle !== null;
  } catch (error) {
    return false;
  }
}

/**
 * –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
 */
async function createAllCategories() {
  console.log('üöÄ –ú–ê–°–°–û–í–û–ï –°–û–ó–î–ê–ù–ò–ï –í–°–ï–• –ö–ê–¢–ï–ì–û–†–ò–ô –í SHOPIFY');
  console.log('=' .repeat(60));
  
  const results = {
    created: [],
    skipped: [],
    errors: []
  };

  for (let i = 0; i < CATEGORIES.length; i++) {
    const category = CATEGORIES[i];
    
    console.log(`\nüìã [${i + 1}/${CATEGORIES.length}] ${category.title}`);
    console.log(`   Handle: ${category.handle}`);
    console.log(`   Priority: ${category.priority}`);
    
    try {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
      const exists = await checkCategoryExists(category.handle);
      
      if (exists) {
        console.log(`‚è≠Ô∏è  –ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`);
        results.skipped.push(category);
        continue;
      }

      // –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      const created = await createCategory(category);
      
      if (created) {
        results.created.push(created);
      } else {
        results.errors.push(category);
      }

      // –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
      if (i < CATEGORIES.length - 1) {
        console.log('‚è≥ –ü–∞—É–∑–∞ 1.5 —Å–µ–∫...');
        await new Promise(resolve => setTimeout(resolve, 1500));
      }
      
    } catch (error) {
      console.error(`‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è ${category.title}:`, error.message);
      results.errors.push(category);
    }
  }

  // –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
  console.log('\n' + '=' .repeat(60));
  console.log('üìä –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢');
  console.log('=' .repeat(60));
  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ: ${results.created.length}`);
  console.log(`‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ: ${results.skipped.length}`);
  console.log(`‚ùå –û—à–∏–±–æ–∫: ${results.errors.length}`);
  
  if (results.created.length > 0) {
    console.log('\nüéâ –£–°–ü–ï–®–ù–û –°–û–ó–î–ê–ù–ù–´–ï –ö–ê–¢–ï–ì–û–†–ò–ò:');
    results.created.forEach(cat => {
      console.log(`   ‚úÖ ${cat.title} (${cat.handle})`);
    });
  }
  
  if (results.errors.length > 0) {
    console.log('\n‚ùå –ö–ê–¢–ï–ì–û–†–ò–ò –° –û–®–ò–ë–ö–ê–ú–ò:');
    results.errors.forEach(cat => {
      console.log(`   ‚ùå ${cat.title} (${cat.handle})`);
    });
  }

  console.log('\nüöÄ –ì–æ—Ç–æ–≤–æ! –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ Shopify.');
  console.log('üí° –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω—è—Ç—å –∏—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã.');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –ó–ê–ü–£–°–ö
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

if (require.main === module) {
  createAllCategories().catch(console.error);
}

module.exports = {
  createAllCategories,
  createCategory,
  checkCategoryExists,
  CATEGORIES
};
