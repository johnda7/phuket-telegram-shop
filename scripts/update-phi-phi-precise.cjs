const fs = require('fs');

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Shopify
const SHOPIFY_STORE = 'phuket-telegram-shop-117ck.myshopify.com';
const ADMIN_TOKEN = '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';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ Shopify Admin API
async function shopifyRequest(query, variables = {}) {
  const response = await fetch(`https://${SHOPIFY_STORE}/admin/api/2025-07/graphql.json`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-Shopify-Access-Token': ADMIN_TOKEN
    },
    body: JSON.stringify({ query, variables })
  });

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }

  return await response.json();
}

// –¢–û–ß–ù–û–ï –æ–ø–∏—Å–∞–Ω–∏–µ —Å pukeo.com
const PRECISE_DESCRIPTION = `
<h1>üèùÔ∏è –ü—Ö–∏-–ü—Ö–∏ 2 –¥–Ω—è/1 –Ω–æ—á—å ‚Äî –õ—É—á—à–∏–π —Ç—É—Ä –ü—Ö—É–∫–µ—Ç–∞!</h1>

<p><strong>–≠–∫—Å–∫—É—Ä—Å–∏—è —Å –Ω–æ—á—ë–≤–∫–æ–π –Ω–∞ –æ—Å—Ç—Ä–æ–≤–∞—Ö –ü—Ö–∏-–ü—Ö–∏</strong></p>

<p>–û—Å—Ç—Ä–æ–≤–∞ –ü—Ö–∏-–ü—Ö–∏ ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏–ø–µ–ª–∞–≥ –∏–∑ 6 –æ—Å—Ç—Ä–æ–≤–æ–≤ —Å –ª–∞–∑—É—Ä–Ω–æ–π –≤–æ–¥–æ–π –∏ –±–µ–ª—ã–º–∏ –ø–µ—Å—á–∞–Ω—ã–º–∏ –ø–ª—è–∂–∞–º–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –º–µ–∂–¥—É –ü—Ö—É–∫–µ—Ç–æ–º –∏ –∑–∞–ø–∞–¥–Ω—ã–º –ø–æ–±–µ—Ä–µ–∂—å–µ–º –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è. –î–≤—É—Ö–¥–Ω–µ–≤–Ω–∞—è —ç–∫—Å–∫—É—Ä—Å–∏—è —Å –Ω–æ—á—ë–≤–∫–æ–π –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –ü—Ö–∏-–ü—Ö–∏ –î–æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ –ø–æ–ª–Ω–æ–π –º–µ—Ä–µ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –≤—Å–µ–º–∏ –∫—Ä–∞—Å–æ—Ç–∞–º–∏ —ç—Ç–æ–≥–æ —Ä–∞–π—Å–∫–æ–≥–æ —É–≥–æ–ª–∫–∞.</p>

<p>–í—ã –ø–æ—Å–µ—Ç–∏—Ç–µ –∑–Ω–∞–º–µ–Ω–∏—Ç—É—é –±—É—Ö—Ç—É –ú–∞–π—è, –≥–¥–µ —Å–Ω–∏–º–∞–ª—Å—è —Ñ–∏–ª—å–º "–ü–ª—è–∂" —Å –õ–µ–æ–Ω–∞—Ä–¥–æ –î–∏ –ö–∞–ø—Ä–∏–æ, –ø–æ–ø–ª–∞–≤–∞–µ—Ç–µ –≤ –∏–∑—É–º—Ä—É–¥–Ω–æ–π –ª–∞–≥—É–Ω–µ –ü–∏–ª–µ –∏ –∏—Å—Å–ª–µ–¥—É–µ—Ç–µ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –ø–µ—â–µ—Ä—É –í–∏–∫–∏–Ω–≥–æ–≤. –ë–µ–ª–æ—Å–Ω–µ–∂–Ω—ã–µ –ø–ª—è–∂–∏, –∫—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á–∏—Å—Ç–∞—è –≤–æ–¥–∞ –∏ –±–æ–≥–∞—Ç—ã–π –ø–æ–¥–≤–æ–¥–Ω—ã–π –º–∏—Ä —Å–æ–∑–¥–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Å–Ω–æ—Ä–∫–ª–∏–Ω–≥–∞.</p>

<p>–í—ã —É–≤–∏–¥–∏—Ç–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏—Ö —Ä—ã–± –∏ –∫–æ—Ä–∞–ª–ª–æ–≤—ã–µ —Ä–∏—Ñ—ã —É –æ—Å—Ç—Ä–æ–≤–∞ –ë–∞–º–±—É. –í–µ—á–µ—Ä–æ–º –≤–∞—Å –∂–¥—ë—Ç –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–∞—è –Ω–æ—á–Ω–∞—è –∂–∏–∑–Ω—å –æ—Å—Ç—Ä–æ–≤–∞: –æ–≥–Ω–µ–Ω–Ω–æ–µ —à–æ—É –æ—Ç —á–µ–º–ø–∏–æ–Ω–æ–≤ –¢–∞–∏–ª–∞–Ω–¥–∞, –ø–ª—è–∂–Ω—ã–µ –≤–µ—á–µ—Ä–∏–Ω–∫–∏ –∏ –º–æ–¥–Ω—ã–µ –±–∞—Ä—ã –Ω–∞ –±–µ—Ä–µ–≥—É –º–æ—Ä—è. –£—Ç—Ä–æ–º –≤—Ç–æ—Ä–æ–≥–æ –¥–Ω—è —É –≤–∞—Å –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ –æ–±–∑–æ—Ä–Ω—É—é –ø–ª–æ—â–∞–¥–∫—É, –æ—Ç–∫—É–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑—É–º–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥ –Ω–∞ –≤–µ—Å—å –∞—Ä—Ö–∏–ø–µ–ª–∞–≥.</p>

<h2>üéØ –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Ç—É—Ä</h2>
<ul>
<li>‚úì –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º–∏ –≤–∏–¥–∞–º–∏</li>
<li>‚úì –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å –∂–∏–≤–æ–ø–∏—Å–Ω—É—é –ø—Ä–∏—Ä–æ–¥—É –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–∞–º–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∫–∞ –¢–∞–∏–ª–∞–Ω–¥–∞</li>
<li>‚úì –£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Ç–∞–π—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–µ, –ë—É–¥–¥–∏–∑–º–µ</li>
<li>‚úì –ü–æ–ª—é–±—É–π—Ç–µ—Å—å –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–ª—è–∂–∞–º–∏ –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º–∏ –≤–∏–¥–∞–º–∏ –æ—Å—Ç—Ä–æ–≤–æ–≤ –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è</li>
<li>‚úì –ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å –ø–æ–¥–≤–æ–¥–Ω—ã–º –º–∏—Ä–æ–º –∏ –∏—Ö –æ–±–∏—Ç–∞—Ç–µ–ª—è–º–∏</li>
<li>‚úì –û–∫—É–Ω–∏—Ç–µ—Å—å –≤ –Ω–æ—á–Ω—É—é –∂–∏–∑–Ω—å –æ—Å—Ç—Ä–æ–≤–∞ –ü—Ö–∏-–ü—Ö–∏ –î–æ–Ω</li>
</ul>

<h2>üìÖ –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—É—Ä–∞</h2>

<h3>–î–µ–Ω—å 1</h3>
<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>06:50</strong> ‚Äî –í—ã–µ–∑–¥ –∏–∑ –æ—Ç–µ–ª—è
</div>
<p>–í—ã–µ–∑–¥ –∏–∑ –æ—Ç–µ–ª—è</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>07:50</strong> ‚Äî –ü—Ä–∏–±—ã—Ç–∏–µ –∫ –ø—Ä–∏—á–∞–ª—É
</div>
<p>–ü—Ä–∏–±—ã—Ç–∏–µ –∫ –ø—Ä–∏—á–∞–ª—É, –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –≥–∏–¥–æ–º, –ø–µ—Ä–µ—Ä—ã–≤ –Ω–∞ —á–∞–π, –∫–æ—Ñ–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>08:50</strong> ‚Äî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–∏—á–∞–ª–∞
</div>
<p>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–∏—á–∞–ª–∞</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>09:50</strong> ‚Äî –ë—É—Ö—Ç–∞ –ú–∞–π—è
</div>
<p>–ü–æ—Å–µ—â–µ–Ω–∏–µ –±—É—Ö—Ç—ã –ú–∞–π—è, –≥–¥–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Å—ä–µ–º–∫–∏ —Ñ–∏–ª—å–º–∞ ¬´–ü–ª—è–∂¬ª —Å –õ–µ–æ–Ω–∞—Ä–¥–æ –î–∏–ö–∞–ø—Ä–∏–æ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>10:50</strong> ‚Äî –õ–∞–≥—É–Ω–∞ –ü–∏–ª–µ
</div>
<p>–ü–ª–∞–≤–∞–Ω–∏–µ –≤ –õ–∞–≥—É–Ω–µ –ü–∏–ª–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>11:30</strong> ‚Äî –ü–µ—â–µ—Ä–∞ –í–∏–∫–∏–Ω–≥–æ–≤
</div>
<p>–û—Å–º–æ—Ç—Ä –ü–µ—â–µ—Ä—ã –í–∏–∫–∏–Ω–≥–æ–≤</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>11:50</strong> ‚Äî –ü–ª–∞–≤–∞–Ω–∏–µ —Å –º–∞—Å–∫–∞–º–∏
</div>
<p>–ü–ª–∞–≤–∞–Ω–∏–µ —Å –º–∞—Å–∫–∞–º–∏. –°–æ–∑–µ—Ä—Ü–∞–Ω–∏–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ä—ã–±</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>12:50</strong> ‚Äî –û—Å—Ç—Ä–æ–≤ –ë–∞–º–±—É
</div>
<p>–û—Ç–¥—ã—Ö –Ω–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–º –æ—Å—Ç—Ä–æ–≤–µ –ë–∞–º–±—É</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>14:20</strong> ‚Äî –û–±–µ–¥
</div>
<p>–ü—Ä–∏–±—ã—Ç–∏–µ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–∞ –ü—Ö–∏ –ü—Ö–∏ –î–æ–Ω. –û–±–µ–¥ –≤ –ø–ª—è–∂–Ω–æ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>15:50</strong> ‚Äî –ó–∞—Å–µ–ª–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª—å
</div>
<p>–ó–∞—Å–µ–ª–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª—å –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –ü—Ö–∏-–ü—Ö–∏ –î–æ–Ω. –ü–æ—Å–µ—â–µ–Ω–∏–µ —É–ª–∏—Ü –¥–µ—Ä–µ–≤–Ω–∏ –ü—Ö–∏-–ü—Ö–∏, –≥–¥–µ –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–Ω—ã—Ö –±–∞—Ä–æ–≤, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤, –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–¥—ã—Ö–∞</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>19:50</strong> ‚Äî –£–∂–∏–Ω –≤ –æ—Ç–µ–ª–µ
</div>
<p>–£–∂–∏–Ω –≤ –æ—Ç–µ–ª–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>20:30</strong> ‚Äî –û–≥–Ω–µ–Ω–Ω–æ–µ —à–æ—É
</div>
<p>–î–æ –Ω–∞—á–∞–ª–∞ –ø–ª—è–∂–Ω—ã—Ö –≤–µ—á–µ—Ä–∏–Ω–æ–∫, –ø–æ—Å–µ—â–µ–Ω–∏–µ –±–∞—Ä–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–∏–¥–µ—Ç—å –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–µ –æ–≥–Ω–µ–Ω–Ω–æ–µ —à–æ—É –æ—Ç —á–µ–º–ø–∏–æ–Ω–æ–≤ –¢–∞–∏–ª–∞–Ω–¥–∞, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –∫–æ–∫—Ç–µ–π–ª–µ–º –Ω–∞ –ø–ª—è–∂–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>22:50</strong> ‚Äî –¢–∞–π—Å–∫–∏–π –ë–æ–∫—Å
</div>
<p>–ü–æ—Å–µ—â–µ–Ω–∏–µ –±–∞—Ä–∞, –≥–¥–µ —Å–∞–º—ã–µ —Å–º–µ–ª—ã–µ –≥–æ—Å—Ç–∏ —Å–º–æ–≥—É—Ç –ø–æ–ø—ã—Ç–∞—Ç—å —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –≤ –¢–∞–π—Å–∫–æ–º –ë–æ–∫—Å–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>23:20</strong> ‚Äî –ù–æ—á–Ω–∞—è –∂–∏–∑–Ω—å
</div>
<p>–ù–æ—á–Ω–∞—è –∂–∏–∑–Ω—å –æ—Å—Ç—Ä–æ–≤–∞. –í–µ—á–µ—Ä–∏–Ω–∫–∏ –Ω–∞ –ø–ª—è–∂–µ</p>

<h3>–î–µ–Ω—å 2</h3>
<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>07:00-10:00</strong> ‚Äî –ó–∞–≤—Ç—Ä–∞–∫
</div>
<p>–ó–∞–≤—Ç—Ä–∞–∫ –≤ –æ—Ç–µ–ª–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>09:00</strong> ‚Äî –û—Ç–¥—ã—Ö –Ω–∞ –ø–ª—è–∂–µ
</div>
<p>–í—Ä–µ–º—è –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –ø–æ—Å–ª–µ –≤–µ—á–µ—Ä–∏–Ω–∫–∏ –Ω–∞ –ø–ª—è–∂–µ, –æ—Ç–¥—ã—Ö –Ω–∞ –ø–ª—è–∂–µ</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>10:30</strong> ‚Äî –°–º–æ—Ç—Ä–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞
</div>
<p>–ü–æ—Ç—Ä—è—Å–∞—é—â–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å–µ—Ç–∏—Ç—å –æ–±–∑–æ—Ä–Ω—É—é –ø–ª–æ—â–∞–¥–∫—É –æ—Ç–∫—É–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑—É–º–∏—Ç–µ–ª—å–Ω—ã–π –≤–∏–¥ –Ω–∞ –æ—Å—Ç—Ä–æ–≤</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>11:00</strong> ‚Äî –í—ã—Å–µ–ª–µ–Ω–∏–µ —Å –æ—Ç–µ–ª—è
</div>
<p>–í—ã—Å–µ–ª–µ–Ω–∏–µ —Å –æ—Ç–µ–ª—è</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>11:10</strong> ‚Äî –°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è
</div>
<p>–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>13:30</strong> ‚Äî –û–±–µ–¥
</div>
<p>–û–±–µ–¥ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –ü—Ö–∏ –ü—Ö–∏ –î–æ–Ω</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>14:30</strong> ‚Äî –ü–ª—è–∂ –æ–±–µ–∑—å—è–Ω
</div>
<p>–û—Å–º–æ—Ç—Ä –ø–ª—è–∂–∞ –æ–±–µ–∑—å—è–Ω –≤ –∑–∞–ª–∏–≤–µ –ô–æ–Ω–≥ –ö–∞—Å–µ–º</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>15:30</strong> ‚Äî –°–Ω–æ—Ä–∫–ª–∏–Ω–≥
</div>
<p>–ü–ª–∞–≤–∞–Ω–∏–µ —Å –º–∞—Å–∫–∞–º–∏ –≤–æ–∑–ª–µ –æ—Å—Ç—Ä–æ–≤–∞ –ü—Ö–∏-–ü—Ö–∏ –î–æ–Ω. –°–æ–∑–µ—Ä—Ü–∞–Ω–∏–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ä—ã–±</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>16:30</strong> ‚Äî –†—ã–±–∞–ª–∫–∞
</div>
<p>–û—Ç–¥—ã—Ö –Ω–∞ –∂–µ–º—á—É–∂–∏–Ω–µ –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è, –æ—Å—Ç—Ä–æ–≤–µ –†–∞–Ω–≥ –Ø–π. –ì–ª—É–±–æ–∫–æ–≤–æ–¥–Ω–∞—è —Ä—ã–±–∞–ª–∫–∞, –∂–µ–ª–∞—é—â–∏–µ –º–æ–≥—É—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ä—ã–±–∞—Ü–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –≤–º–µ—Å—Ç–µ —Å –Ω–∞—à–∏–º –∫–∞–ø–∏—Ç–∞–Ω–æ–º –∏ –º–∞—Ç—Ä–æ—Å–∞–º–∏. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–π–º–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ä—ã–±. (–í–Ω–∏–º–∞–Ω–∏–µ: –≤ —Å–ª—É—á–∞–µ –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ä—ã–±–∞–ª–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω–∞)</p>

<div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg mb-4">
  <strong>17:00</strong> ‚Äî –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ
</div>
<p>–ü—Ä–∏–±—ã—Ç–∏–µ –∫ –ø—Ä–∏—á–∞–ª—É, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª—å</p>

<h2>‚úÖ –í–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å</h2>

<h3>–í–∫–ª—é—á–µ–Ω–æ</h3>
<ul>
<li>‚úì 2 –æ–±–µ–¥–∞, 1 —É–∂–∏–Ω, 1 –∑–∞–≤—Ç—Ä–∞–∫</li>
<li>‚úì –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–∞–≤—Ç–æ–±—É—Å –∏ –ª–æ–¥–∫–∞)</li>
<li>‚úì –í—Ö–æ–¥–Ω—ã–µ –±–∏–ª–µ—Ç—ã –≤ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∫–∏</li>
<li>‚úì –ü—Ä–æ—Ö–ª–∞–¥–∏—Ç–µ–ª—å–Ω—ã–µ –±–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏</li>
<li>‚úì –£–≥–æ—â–µ–Ω–∏–µ —Ñ—Ä—É–∫—Ç–∞–º–∏ –Ω–∞ –±–æ—Ä—Ç—É</li>
<li>‚úì –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</li>
<li>‚úì –†—É—Å—Å–∫–∏–π –≥–∏–¥</li>
<li>‚úì –°–ø–∞—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∂–∏–ª–µ—Ç—ã</li>
<li>‚úì –ú–∞—Å–∫–∏, —Ç—Ä—É–±–∫–∏</li>
<li>‚úì –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –æ—Ç–µ–ª–µ</li>
</ul>

<h3>–ù–µ –≤–∫–ª—é—á–µ–Ω–æ</h3>
<ul>
<li>‚úó –í—Ö–æ–¥–Ω—ã–µ –±–∏–ª–µ—Ç—ã –Ω–∞ —Å–º–æ—Ç—Ä–æ–≤—É—é –ø–ª–æ—â–∞–¥–∫—É –ü—Ö–∏-–ü—Ö–∏ –î–æ–Ω (50 –ë–∞—Ç)</li>
<li>‚úó –õ–∏—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</li>
</ul>

<h2>üéí –ß—Ç–æ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π</h2>
<ul>
<li>‚Ä¢ –ö—É–ø–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏</li>
<li>‚Ä¢ –°–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–µ –∫—Ä–µ–º–∞</li>
<li>‚Ä¢ –ö—Ä–µ–º –ø–æ—Å–ª–µ –∑–∞–≥–∞—Ä–∞</li>
<li>‚Ä¢ –ì–æ–ª–æ–≤–Ω–æ–π —É–±–æ—Ä</li>
<li>‚Ä¢ –¢–∞–ø–æ—á–∫–∏</li>
<li>‚Ä¢ –õ–∏—á–Ω—ã–µ –¥–µ–Ω—å–≥–∏</li>
</ul>

<h2>‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
<ul>
<li>‚ö† –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –∏ —Ä–∞–±–æ—Ç—ã –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∫–∞</li>
<li>‚ö† –ì–∏–¥ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –ø–æ—Å–µ—â–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–π –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ —Å—Ö–æ–∂–∏–µ –ø–æ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∫—Ä–∞—Å–æ—Ç–µ</li>
</ul>

<h2>üéØ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ–µ–∑–¥–∫—É –Ω–∞ –ü—Ö–∏-–ü—Ö–∏?</h2>
<div class="flex flex-wrap gap-4 mb-4">
  <a href="/phuket" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600">üèùÔ∏è –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä —Å –≥–∏–¥–æ–º</a>
  <a href="/services/car-rental" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600">üöó –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∞–≤—Ç–æ</a>
  <a href="/services/currency-exchange" class="bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600">üí± –û–±–º–µ–Ω—è—Ç—å –≤–∞–ª—é—Ç—É</a>
</div>

<p><em>–ü—Ö–∏-–ü—Ö–∏ 2 –¥–Ω—è/1 –Ω–æ—á—å ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—É—Ä, —ç—Ç–æ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤ —Ä–∞–π—Å–∫–∏–π —É–≥–æ–ª–æ–∫ –ê–Ω–¥–∞–º–∞–Ω—Å–∫–æ–≥–æ –º–æ—Ä—è. –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π, –æ—Ç–¥—ã—Ö–∞ –∏ –Ω–æ—á–Ω–æ–π –∂–∏–∑–Ω–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å.</em></p>
`;

async function updatePhiPhiPrecise() {
  console.log('üöÄ –¢–û–ß–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–£–†–ê –ü–•–ò-–ü–•–ò (–ö–ê–ö –ù–ê PUKEO.COM)');
  console.log('============================================================');
  console.log('üìÖ –î–∞—Ç–∞:', new Date().toLocaleString('ru-RU'));
  console.log('üéØ –¶–µ–ª—å: –û–¥–∏–Ω –≤ –æ–¥–∏–Ω —Å pukeo.com');
  console.log('üè™ –ú–∞–≥–∞–∑–∏–Ω:', SHOPIFY_STORE);
  console.log('============================================================\n');

  try {
    // 1. –ù–∞–π—Ç–∏ —Ç—É—Ä –ü—Ö–∏-–ü—Ö–∏
    console.log('üîç –ò—â—É —Ç—É—Ä –ü—Ö–∏-–ü—Ö–∏...');
    const searchQuery = `
      query {
        productByHandle(handle: "phi-phi-2-days-1-night") {
          id
          title
          handle
          variants(first: 10) {
            edges {
              node {
                id
                title
                price
              }
            }
          }
        }
      }
    `;

    const searchResult = await shopifyRequest(searchQuery);
    
    if (!searchResult.data.productByHandle) {
      throw new Error('–¢—É—Ä –ü—Ö–∏-–ü—Ö–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
    }

    const product = searchResult.data.productByHandle;
    console.log(`‚úÖ –ù–∞–π–¥–µ–Ω —Ç—É—Ä: ${product.title}`);
    console.log(`üîó ID: ${product.id}`);

    // 2. –û–±–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ metafield
    console.log('\nüìù –û–±–Ω–æ–≤–ª—è—é –æ–ø–∏—Å–∞–Ω–∏–µ...');
    const metafieldMutation = `
      mutation metafieldsSet($metafields: [MetafieldsSetInput!]!) {
        metafieldsSet(metafields: $metafields) {
          metafields {
            id
            key
            value
          }
          userErrors {
            field
            message
          }
        }
      }
    `;

    const metafieldVariables = {
      metafields: [
        {
          ownerId: product.id,
          namespace: "custom",
          key: "description",
          value: PRECISE_DESCRIPTION,
          type: "multi_line_text_field"
        }
      ]
    };

    const metafieldResult = await shopifyRequest(metafieldMutation, metafieldVariables);
    
    if (metafieldResult.data.metafieldsSet.userErrors.length > 0) {
      console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è metafield:', metafieldResult.data.metafieldsSet.userErrors);
      return false;
    }

    console.log('‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!');

    // 3. –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã –≤ –±–∞—Ç–∞—Ö
    console.log('\nüí∞ –û–±–Ω–æ–≤–ª—è—é —Ü–µ–Ω—ã –≤ –±–∞—Ç–∞—Ö...');
    const variants = product.variants.edges.map(edge => edge.node);
    
    const priceUpdateMutation = `
      mutation productVariantsBulkUpdate($productId: ID!, $variants: [ProductVariantsBulkInput!]!) {
        productVariantsBulkUpdate(productId: $productId, variants: $variants) {
          product {
            id
            title
          }
          productVariants {
            id
            title
            price
          }
          userErrors {
            field
            message
          }
        }
      }
    `;

    const priceUpdateVariables = {
      productId: product.id,
      variants: variants.map(variant => ({
        id: variant.id,
        price: variant.title.includes('–í–∑—Ä–æ—Å–ª—ã–π') ? '4500.00' : '3500.00'
      }))
    };

    const priceResult = await shopifyRequest(priceUpdateMutation, priceUpdateVariables);
    
    if (priceResult.data.productVariantsBulkUpdate.userErrors.length > 0) {
      console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω:', priceResult.data.productVariantsBulkUpdate.userErrors);
    } else {
      console.log('‚úÖ –¶–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ –±–∞—Ç–∞—Ö!');
      priceResult.data.productVariantsBulkUpdate.productVariants.forEach(variant => {
        console.log(`   ${variant.title}: ${variant.price} –±–∞—Ç`);
      });
    }

    console.log('\n============================================================');
    console.log('üéâ –ì–û–¢–û–í–û! –¢—É—Ä –ü—Ö–∏-–ü—Ö–∏ –æ–±–Ω–æ–≤–ª–µ–Ω –æ–¥–∏–Ω –≤ –æ–¥–∏–Ω —Å pukeo.com');
    console.log('üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ');
    console.log('============================================================');

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
  }
}

updatePhiPhiPrecise().catch(console.error);
